(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{89:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),i=n(46),r=n.n(i),a=n(27),s=(n(54),n(47)),u=n.n(s),d=n(48),f=n(1),l=n(3),b=[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{align:[]}],["image","blockquote","code-block"],["clean"]];function j(){var e=Object(c.useState)(),t=Object(a.a)(e,2),n=t[0],o=t[1],i=Object(c.useState)(),r=Object(a.a)(i,2),s=r[0],j=r[1],O=Object(f.g)().id;Object(c.useEffect)((function(){var e=Object(d.io)("http://localhost:3001");return o(e),function(){e.disconnect()}}),[]),Object(c.useEffect)((function(){if(n&&s){var e=function(e,t,c){"user"===c&&n.emit("send-changes",e)};return s.on("text-change",e),function(){s.off("text-change",e)}}}),[n,s]),Object(c.useEffect)((function(){if(n&&s){var e=function(e){s.updateContents(e)};return n.on("receive-changes",e),function(){n.off("receive-changes",e)}}}),[n,s]),Object(c.useEffect)((function(){n&&s&&(n.once("load-document",(function(e){s.setContents(e),s.enable()})),n.emit("get-document",O))}),[n,s,O]),Object(c.useEffect)((function(){if(n&&s){var e=setInterval((function(){n.emit("save-document",s.getContents())}),2e3);return function(){clearInterval(e)}}}),[n,s]);var h=Object(c.useCallback)((function(e){if(null!=e){e.innerHTML="";var t=document.createElement("div");e.append(t);var n=new u.a(t,{theme:"snow",modules:{toolbar:b}});n.disable(),n.setText("Loading..."),j(n)}}),[]);return Object(l.jsx)("div",{className:"container",ref:h,children:"text editor"})}var O=n(24),h=n(92);var v=function(){return Object(l.jsx)(O.a,{children:Object(l.jsxs)(f.d,{children:[Object(l.jsx)(f.b,{exact:!0,path:"/",children:Object(l.jsx)(f.a,{to:"/documents/".concat(Object(h.a)()),children:Object(l.jsx)(j,{})})}),Object(l.jsx)(f.b,{path:"/documents/:id",children:Object(l.jsx)(j,{})})]})})};n(89);r.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(v,{})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.19f56f32.chunk.js.map